<!DOCTYPE html><html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tabel Liga Grup MPL (FINAL FIX)</title>
<style>
body{font-family:Arial;background:#0f172a;color:#e5e7eb;padding:20px}
h1,h2{text-align:center}
table{width:100%;max-width:800px;margin:20px auto;border-collapse:collapse;background:#020617;border-radius:12px;overflow:hidden}
th,td{padding:10px;text-align:center}
th{background:#1e293b}
input{background:#020617;border:1px solid #334155;color:#e5e7eb;border-radius:6px;padding:6px;text-align:center}
.lolos{background:#064e3b!important;color:#6ee7b7;font-weight:bold}
.gugur{color:#94a3b8}
.matches{max-width:800px;margin:20px auto;display:grid;gap:12px}
.match{display:grid;grid-template-columns:1.5fr 50px 40px 50px 1.5fr;align-items:center;background:#020617;border-radius:12px;padding:12px 16px;border-left:6px solid #334155}
.team-label{font-weight:600}
.vs{opacity:.6;font-size:12px;text-align:center}
</style>
</head>
<body><h1>Klasemen Grup</h1>
<table>
<thead>
<tr><th>Tim</th><th>Win</th><th>Poin</th><th>Score</th><th>Status</th></tr>
</thead>
<tbody id="standings"></tbody>
</table><h2>Hasil Pertandingan</h2>
<div class="matches" id="matches"></div><script>
// ===== DATA UTAMA =====
const teams = [
  {id:0,name:"symfiony"},
  {id:1,name:"hillaryours"},
  {id:2,name:"liamelior"},
  {id:3,name:"leviosa"},
  {id:4,name:"yokinachia"}
];

const results = [];

// ===== GENERATE STANDINGS =====
const standingsEl = document.getElementById('standings');
function drawStandings(){
  standingsEl.innerHTML='';
  teams.forEach(t=>{
    standingsEl.innerHTML+=`
    <tr data-id="${t.id}">
      <td><input value="${t.name}" oninput="editName(${t.id},this.value)"></td>
      <td class="win">0</td>
      <td class="poin">0</td>
      <td class="score">0</td>
      <td class="status">-</td>
    </tr>`;
  });
}

// ===== GENERATE MATCHES (ROUND ROBIN) =====
const matchesEl = document.getElementById('matches');
function drawMatches(){
  matchesEl.innerHTML='';
  results.length=0;
  for(let i=0;i<teams.length;i++){
    for(let j=i+1;j<teams.length;j++){
      results.push({a:i,b:j,sa:0,sb:0});
    }
  }
  results.forEach((m,idx)=>{
    matchesEl.innerHTML+=`
    <div class="match">
      <div class="team-label">${teams[m.a].name}</div>
      <input type="number" value="0" oninput="setScore(${idx},true,this.value)">
      <span class="vs">VS</span>
      <input type="number" value="0" oninput="setScore(${idx},false,this.value)">
      <div class="team-label">${teams[m.b].name}</div>
    </div>`;
  });
}

// ===== LOGIC =====
function editName(id,val){
  teams[id].name=val;
  drawMatches();
  recalc();
}

function setScore(idx,isA,val){
  if(isA) results[idx].sa=parseInt(val)||0;
  else results[idx].sb=parseInt(val)||0;
  recalc();
}

function recalc(){
  const data = teams.map(()=>({win:0,score:0}));

  results.forEach(m=>{
    data[m.a].score+=m.sa-m.sb;
    data[m.b].score+=m.sb-m.sa;
    if(m.sa>m.sb) data[m.a].win++;
    if(m.sb>m.sa) data[m.b].win++;
  });

  const rows=[...standingsEl.children];
  rows.forEach(r=>{
    const id=+r.dataset.id;
    r.querySelector('.win').innerText=data[id].win;
    r.querySelector('.poin').innerText=data[id].win;
    r.querySelector('.score').innerText=data[id].score;
  });

  rows.sort((a,b)=>{
    const wa=+a.querySelector('.win').innerText;
    const wb=+b.querySelector('.win').innerText;
    const sa=+a.querySelector('.score').innerText;
    const sb=+b.querySelector('.score').innerText;
    return wb-wa||sb-sa;
  });

  rows.forEach((r,i)=>{
    r.classList.remove('lolos','gugur');
    r.querySelector('.status').innerText=i<2?'LOLOS':'GUGUR';
    r.classList.add(i<2?'lolos':'gugur');
    standingsEl.appendChild(r);
  });
}

// INIT
drawStandings();
drawMatches();
recalc();
</script></body>
  </html>
